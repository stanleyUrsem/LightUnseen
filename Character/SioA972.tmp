[gd_scene load_steps=32 format=3 uid="uid://cy7fitk5e2igo"]

[ext_resource type="Script" path="res://Character/SionMovement.gd" id="1_6msgt"]
[ext_resource type="Material" uid="uid://ced4lpkaxd2tl" path="res://Character/eye_trackin_mat.tres" id="2_0sc1b"]
[ext_resource type="Texture2D" uid="uid://br7u3fpkb7c2f" path="res://Character/Textures/SionTD/eyes.png" id="3_atfj3"]
[ext_resource type="Script" path="res://MouseToShader.gd" id="4_m734i"]
[ext_resource type="Texture2D" uid="uid://donk4eeujo6qo" path="res://Character/Textures/SionTD/sion.png" id="5_mwf2f"]
[ext_resource type="AnimationLibrary" uid="uid://c1k2kc7247equ" path="res://Character/Sion_2_anim_lib.tres" id="6_o8mu2"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://cgvcqonlcymq2" path="res://Character/Textures/SionTD/topdownChar.tres" id="7_uuyot"]
[ext_resource type="Script" path="res://Abilities/Chaos/Abilities.gd" id="8_q0dv7"]
[ext_resource type="Script" path="res://Hittable.gd" id="10_tav8q"]
[ext_resource type="Script" path="res://Character/StatsHolder.gd" id="13_ip521"]
[ext_resource type="Script" path="res://StatsResource.gd" id="15_h1vve"]
[ext_resource type="Script" path="res://Character/Interact.gd" id="15_mg06p"]
[ext_resource type="Script" path="res://PassivesManager.gd" id="16_dvdfg"]
[ext_resource type="Texture2D" uid="uid://cgt4u6x0ednng" path="res://Envo/pickups.png" id="16_qym2e"]
[ext_resource type="Script" path="res://Abilities/AbilityData.gd" id="17_5mfga"]
[ext_resource type="Script" path="res://Abilities/PassiveData.gd" id="17_r5jsg"]
[ext_resource type="PackedScene" uid="uid://d3own3do3t3k" path="res://Character/manaheal.tscn" id="18_4wnpx"]
[ext_resource type="Script" path="res://Character/Consume.gd" id="18_il7wj"]
[ext_resource type="Material" uid="uid://dlo3kh48c6xhw" path="res://Maps/Particles.tres" id="19_26564"]

[sub_resource type="Curve" id="Curve_lstxf"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.5, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_j4n5k"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.503311, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ygxu6"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_irf28"]
size = Vector2(6, 18)

[sub_resource type="Resource" id="Resource_2frdm"]
script = ExtResource("15_h1vve")
health = 100.0
mana = 50.0
defense = 1.0
stamina = 1.0

[sub_resource type="Resource" id="Resource_60owp"]
script = ExtResource("17_r5jsg")
has_condition = true
delay = 2.0
damage_increase = 0.0
damage_increase_percentage = 0.0
health_increase = 0.0
health_increase_percentage = 0.0
mana_increase = 0.25
mana_increase_percentage = 5.0
defense_increase = 0.0
defense_increase_percentage = 0.0
displayName = "Mana Heal"
description = ""
form_type = 0

[sub_resource type="AtlasTexture" id="AtlasTexture_bjtvb"]
atlas = ExtResource("16_qym2e")
region = Rect2(32, 0, 32, 32)

[sub_resource type="Resource" id="Resource_cwwi8"]
script = ExtResource("17_5mfga")
keyBinds = Array[String](["Interact"])
abilityPath = ""
animName = ""
animNodeType = 0
oneShot = 0
value = 0.0
animOnly = false
damage = 0.0
mana = 0.0
speed = 0.0
useMouseAim = false
toggle = false
hold = false
hold_index = 0
hotkey_index = 2
rotateToMouse = false
displayName = "Interact"
description = ""
icon = SubResource("AtlasTexture_bjtvb")
form_type = 0

[sub_resource type="AtlasTexture" id="AtlasTexture_a7o75"]
atlas = ExtResource("16_qym2e")
region = Rect2(64, 0, 32, 32)

[sub_resource type="Resource" id="Resource_ugs33"]
script = ExtResource("17_5mfga")
keyBinds = Array[String](["Consume_1"])
abilityPath = ""
animName = ""
animNodeType = 0
oneShot = 0
value = 0.0
animOnly = false
damage = 15.0
mana = 4.0
speed = 0.0
useMouseAim = false
toggle = false
hold = false
hold_index = 0
hotkey_index = 0
rotateToMouse = false
displayName = "Consume_HP"
description = ""
icon = SubResource("AtlasTexture_a7o75")
form_type = 4

[sub_resource type="AtlasTexture" id="AtlasTexture_lk1xm"]
atlas = ExtResource("16_qym2e")
region = Rect2(32, 32, 32, 32)

[sub_resource type="Resource" id="Resource_nejrd"]
script = ExtResource("17_5mfga")
keyBinds = Array[String](["Consume_2"])
abilityPath = ""
animName = ""
animNodeType = 0
oneShot = 0
value = 0.0
animOnly = false
damage = 20.0
mana = 5.0
speed = 0.0
useMouseAim = false
toggle = false
hold = false
hold_index = 0
hotkey_index = 1
rotateToMouse = false
displayName = "Consume_MP"
description = ""
icon = SubResource("AtlasTexture_lk1xm")
icon_mat = ExtResource("19_26564")
form_type = 4

[node name="Sion" type="CharacterBody2D" node_paths=PackedStringArray("statsHolder")]
y_sort_enabled = true
collision_layer = 16
motion_mode = 1
script = ExtResource("1_6msgt")
dodgeVelocity = 5.0
dodgeDuration = 1.0
stopMovement = true
statsHolder = NodePath("Stats")
rollCurve = SubResource("Curve_lstxf")
dodgeCurve = SubResource("Curve_j4n5k")

[node name="Art" type="Node2D" parent="."]
z_index = 2

[node name="ShapeCast2D" type="ShapeCast2D" parent="Art"]
position = Vector2(6, 6)
shape = SubResource("RectangleShape2D_ygxu6")
target_position = Vector2(0, 0)
collision_mask = 40
collide_with_areas = true

[node name="Eyes" type="Node2D" parent="Art" node_paths=PackedStringArray("user", "mat_nodes")]
material = ExtResource("2_0sc1b")
position = Vector2(0, 1)
script = ExtResource("4_m734i")
user = NodePath(".")
mat_nodes = [NodePath(".")]

[node name="Eyes" type="Sprite2D" parent="Art/Eyes"]
modulate = Color(1.2, 1.2, 1.2, 1)
z_index = 3
texture_filter = 1
use_parent_material = true
position = Vector2(-1, -2)
scale = Vector2(0.5, 0.7)
texture = ExtResource("3_atfj3")
hframes = 4
vframes = 3

[node name="Eyes2" type="Sprite2D" parent="Art/Eyes"]
modulate = Color(1.2, 1.2, 1.2, 1)
z_index = 3
texture_filter = 1
use_parent_material = true
position = Vector2(2, -2)
scale = Vector2(0.5, 0.7)
texture = ExtResource("3_atfj3")
hframes = 4
vframes = 3

[node name="Body" type="Sprite2D" parent="Art"]
z_index = 1
texture_filter = 1
texture = ExtResource("5_mwf2f")
hframes = 5
vframes = 11

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": ExtResource("6_o8mu2")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
libraries = {
"": ExtResource("6_o8mu2")
}
tree_root = ExtResource("7_uuyot")
anim_player = NodePath("../AnimationPlayer")
parameters/Death/blend_amount = 0
parameters/Harvest/active = false
parameters/Harvest/internal_active = false
parameters/Harvest/request = 0
parameters/IdleToWalk/blend_amount = 0.0
parameters/LeftOrRight/blend_amount = 1.0
parameters/Mine/active = false
parameters/Mine/internal_active = false
parameters/Mine/request = 0
parameters/OneShot/active = false
parameters/OneShot/internal_active = false
parameters/OneShot/request = 0
parameters/Transform/active = false
parameters/Transform/internal_active = false
parameters/Transform/request = 0
parameters/Turn/add_amount = 1.0
parameters/UseAttack/active = false
parameters/UseAttack/internal_active = false
parameters/UseAttack/request = 0
parameters/UseDodge/active = false
parameters/UseDodge/internal_active = false
parameters/UseDodge/request = 0
parameters/UseLRAttack/active = false
parameters/UseLRAttack/internal_active = false
parameters/UseLRAttack/request = 0
parameters/UseRoll/active = false
parameters/UseRoll/internal_active = false
parameters/UseRoll/request = 0

[node name="Hittable" type="CollisionShape2D" parent="."]
visible = false
z_index = 3
position = Vector2(0, 5)
shape = SubResource("RectangleShape2D_irf28")
script = ExtResource("10_tav8q")
type = 1

[node name="Abilities" type="Node2D" parent="." node_paths=PackedStringArray("charMovement", "abilitySpawns")]
script = ExtResource("8_q0dv7")
charMovement = NodePath("..")
abilitySpawns = [NodePath("../AbilitySpawns/LeftArm"), NodePath("../AbilitySpawns/RightArm")]
timer_duration = 2.0

[node name="AbilitySpawns" type="Node2D" parent="."]

[node name="LeftArm" type="Marker2D" parent="AbilitySpawns"]
position = Vector2(-4, 12)

[node name="RightArm" type="Marker2D" parent="AbilitySpawns"]
position = Vector2(3, 12)

[node name="Stats" 